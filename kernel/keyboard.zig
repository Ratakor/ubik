// TODO: ugly and doesn't work well

const ps2 = @import("ps2.zig");

const Key = enum {
    bad,
    escape,
    @"1",
    @"2",
    @"3",
    @"4",
    @"5",
    @"6",
    @"7",
    @"8",
    @"9",
    @"0",
    @"-",
    @"=",
    backspace,
    tab,
    q,
    w,
    e,
    r,
    t,
    y,
    u,
    i,
    o,
    p,
    @"[",
    @"]",
    enter,
    left_ctrl,
    a,
    s,
    d,
    f,
    g,
    h,
    j,
    k,
    l,
    @";",
    @"'",
    @"`",
    left_shift,
    @"\\",
    z,
    x,
    c,
    v,
    @".",
    @"/",
    right_shift,
    keypad_star,
    left_alt,
    space,
    caps_lock,
    F1,
    F2,
    F3,
    F4,
    F5,
    F6,
    F7,
    F8,
    F9,
    F10,
    nums_lock,
    scroll_lock,
    keypad_7,
    keypad_8,
    keypad_9,
    keypad_minus,
    keypad_4,
    keypad_5,
    keypad_6,
    keypad_plus,
    keypad_1,
    keypad_2,
    keypad_3,
    keypad_0,
    keypad_dot,
    F11,
    F12,
};

pub fn readKey() Key {
    const key = ps2.read();
    if (key > @intFromEnum(Key.F12)) return .bad;
    return @enumFromInt(key);
}
